import{d as h,u as g,r as n,o as d,c as m,a as e,b as c,w as p,v,t as x,e as w,f as y,F as S,s as V,p as B,g as C,_ as I}from"./index-CWQtNEX-.js";const b=r=>(B("data-v-3a5a0c0c"),r=r(),C(),r),N=b(()=>e("h1",null,"New blog",-1)),k=b(()=>e("button",{type:"submit"},"Save blog",-1)),A={key:0},F=h({__name:"CreateBlog",setup(r){const f=g(),l=n(""),o=n(""),u=n(""),t=n(null),_=async()=>{if(!l.value||!o.value||!u.value){t.value="Please fill out all the required fields to publish the blog";return}try{const{error:i}=await V.from("blogs").insert({title:l.value,content:o.value,author:u.value});i?t.value="An error occurred while saving the blog.":(l.value="",o.value="",u.value="",t.value=null),f.push("/")}catch{t.value="An unexpected error occurred."}};return(i,a)=>(d(),m(S,null,[N,e("form",{onSubmit:y(_,["prevent"])},[e("label",null,[c(" Title "),p(e("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=s=>l.value=s)},null,512),[[v,l.value]])]),e("label",null,[c(" Content "),p(e("textarea",{"onUpdate:modelValue":a[1]||(a[1]=s=>o.value=s)},null,512),[[v,o.value]])]),e("label",null,[c(" Author "),p(e("input",{type:"text","onUpdate:modelValue":a[2]||(a[2]=s=>u.value=s)},null,512),[[v,u.value]])]),k,t.value?(d(),m("p",A,x(t.value),1)):w("",!0)],32)],64))}}),T=I(F,[["__scopeId","data-v-3a5a0c0c"]]);export{T as default};
