import{_ as x,r as l,u as B,h as I,o as b,c as f,a as o,b as c,w as d,v as p,t as S,e as U,f as V,s as m,p as M,g as k}from"./index-CWQtNEX-.js";const h=a=>(M("data-v-aa0bf889"),a=a(),k(),a),q=h(()=>o("h2",null,"Update Blog",-1)),D=h(()=>o("button",{type:"submit"},"Update blog",-1)),E={key:0},N={__name:"UpdateBlog",props:{blogId:{type:String,required:!0}},setup(a){const i=a,r=l(""),u=l(""),n=l(""),g=l(!1),v=l(""),y=B(),_=async()=>{try{const{error:e}=await m.from("blogs").update({title:r.value,content:u.value,author:n.value}).eq("id",i.blogId);if(e)throw e;g.value=!0,v.value="Blog updated successfully!",y.push("/")}catch(e){console.error("Error updating blog:",e.message)}},w=async()=>{try{const{data:e,error:t}=await m.from("blogs").select("*").eq("id",i.blogId).single();if(t)throw t;e&&(r.value=e.title,u.value=e.content,n.value=e.author)}catch(e){console.error("Error fetching blog:",e.message)}};return I(async()=>{await w()}),(e,t)=>(b(),f("div",null,[q,o("form",{onSubmit:V(_,["prevent"])},[o("label",null,[c(" Title "),d(o("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=s=>r.value=s)},null,512),[[p,r.value]])]),o("label",null,[c(" Content "),d(o("textarea",{"onUpdate:modelValue":t[1]||(t[1]=s=>u.value=s)},null,512),[[p,u.value]])]),o("label",null,[c(" Author "),d(o("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=s=>n.value=s)},null,512),[[p,n.value]])]),D,g.value?(b(),f("p",E,S(v.value),1)):U("",!0)],32)]))}},C=x(N,[["__scopeId","data-v-aa0bf889"]]);export{C as default};
